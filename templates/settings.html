{% extends "default_layout.html" %}

{% block title %}
Settings
{% endblock %}

{% block content %}
<h1>Settings</h1>
<hr>
<form method="post">
    <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input type="text" id="username" class="form-control" value="{{ user.username }}" readonly>
    </div>
    <div class="mb-3 password-field">
        <label for="new_password" class="form-label">New Password</label>
        <div class="input-group">
        <input type="password" id="new_password" name="new_password" class="form-control" required>
        <span class="show-password input-group-text" onclick="togglePassword('new_password')">
            <i id="new_password_icon" class="bi bi-eye"></i>
        </span>
        </div>
    </div>
    <div class="mb-3 password-field">
        <label for="confirm_password" class="form-label">Confirm Password</label>
        <div class="input-group">
        <input type="password" id="confirm_password" name="confirm_password" class="form-control" required>
        <span class="show-password input-group-text" onclick="togglePassword('confirm_password')">
            <i id="confirm_password_icon" class="bi bi-eye"></i>
        </span>
        </div>
    </div>
    <button type="submit" class="btn btn-primary">Update Password</button>
</form>
{% endblock %}

{% block css_js %}
<script>
    function togglePassword(fieldId) {
        var passwordField = document.getElementById(fieldId);
        var icon = document.getElementById(fieldId + '_icon');
        if (passwordField.type === 'password') {
            passwordField.type = 'text';
            icon.classList.remove('bi-eye');
            icon.classList.add('bi-eye-slash');
        } else {
            passwordField.type = 'password';
            icon.classList.remove('bi-eye-slash');
            icon.classList.add('bi-eye');
        }
    }
</script>

{% endblock %}